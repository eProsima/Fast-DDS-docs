.. include:: ../includes/aliases.rst

.. _dds_layer_security_logging_plugin:

Logging plugin
---------------

The logging plugin provides the necessary operations to log the security events triggered by the other security plugins
supported by Fast DDS (:ref:`auth-pki-dh`, :ref:`access-permissions`, and :ref:`crypto-aes-gcm-gmac`).
Therefore, the aforementioned security plugins will use the logging plugin to log their events.
These events can be reporting of expected behavior, as well as security breaches and errors.

The logging plugin implemented in Fast DDS collects all event data and saves them in a local file.
The log messages generated by the logging plugin include an ID that uniquely identifies the DomainParticipant that
triggered the event, the DDS Domain identifier to which the DomainParticipant belongs, and a time-stamp.

The logging plugin implemented in Fast DDS is referred to as "DDS\:Logging\:DDS_LogTopic", in compliance with the
`DDS Security <https://www.omg.org/spec/DDS-SECURITY/1.1/>`_ specification.
This plugin is explained in detail below.

.. _logging-logtopic:

DDS\:Logging\:DDS_LogTopic
^^^^^^^^^^^^^^^^^^^^^^^^^^

This builtin plugin implements a logging system for security events in Fast DDS.
The log messages will be saved in a file defined by the user, which identifies by an ID the DomainParticipant that
generates the logged events.
Furthermore, the DDS\:Logging\:DDS_LogTopic plugin can be configured to filter according to up to eight levels of
severity of the messages.

The DDS\:Logging\:DDS_LogTopic authentication plugin, can be activated setting the |DomainParticipantQos| |Property|
``dds.sec.log.plugin`` with the value ``builtin.DDS_LogTopic``.
The following table outlines the properties used for the DDS\:Logging\:DDS_LogTopic plugin configuration.

+------------------------------------------+---------------------------------------------------------------------------+
| Property name |br|                       | Property value                                                            |
| (all properties have |br|                |                                                                           |
| "dds.sec.log.builtin.DDS_LogTopic." |br| +-------------------------+-------------------------------------------------+
| prefix)                                  | Value                   | Definition                                      |
+==========================================+=========================+=================================================+
| logging_level                            | ``EMERGENCY_LEVEL``     | System is unusable. Should not continue use.    |
|                                          +-------------------------+-------------------------------------------------+
|                                          | ``ALERT_LEVEL``         | Should be corrected immediately.                |
|                                          +-------------------------+-------------------------------------------------+
|                                          | ``CRITICAL_LEVEL``      | A failure in primary application.               |
|                                          +-------------------------+-------------------------------------------------+
|                                          | ``ERROR_LEVEL``         | General error conditions. Default value.        |
|                                          +-------------------------+-------------------------------------------------+
|                                          | ``WARNING_LEVEL``       | May indicate future error if action not taken.  |
|                                          +-------------------------+-------------------------------------------------+
|                                          | ``NOTICE_LEVEL``        | Unusual, but nor erroneous event or condition.  |
|                                          +-------------------------+-------------------------------------------------+
|                                          | ``INFORMATIONAL_LEVEL`` | Normal operational. Requires no action.         |
|                                          +-------------------------+-------------------------------------------------+
|                                          | ``DEBUG_LEVEL``         | Normal operational.                             |
+------------------------------------------+-------------------------+-------------------------------------------------+
| log_file                                 | Path of the file in which the log messages are to be saved.               |
+------------------------------------------+---------------------------------------------------------------------------+

The following is an example of how to set the properties of |DomainParticipantQoS| for the DDS\:Logging\:DDS_LogTopic
plugin configuration.

+----------------------------------------------------------------------------------------------------------------------+
| **C++**                                                                                                              |
+----------------------------------------------------------------------------------------------------------------------+
| .. literalinclude:: /../code/DDSCodeTester.cpp                                                                       |
|    :language: c++                                                                                                    |
|    :start-after: // DDS_SECURITY_LOGGING_PLUGIN                                                                      |
|    :end-before: //!--                                                                                                |
|    :dedent: 8                                                                                                        |
+----------------------------------------------------------------------------------------------------------------------+
| **XML**                                                                                                              |
+----------------------------------------------------------------------------------------------------------------------+
| .. literalinclude:: /../code/XMLTester.xml                                                                           |
|    :language: xml                                                                                                    |
|    :start-after: <!-->DDS_SECURITY_LOGGING_PLUGIN<-->                                                                |
|    :end-before: <!--><-->                                                                                            |
+----------------------------------------------------------------------------------------------------------------------+


