.. include:: ../../../03-exports/aliases.include
.. include:: ../../../03-exports/aliases-api.include
.. include:: ../../../03-exports/roles.include

.. _logging-logtopic:

Logging plugin: DDS\:Logging\:DDS_LogTopic
------------------------------------------

The logging plugin provides the necessary operations to log the security events triggered by the other security plugins
supported by Fast DDS (:ref:`auth-pki-dh`, :ref:`access-permissions`, and :ref:`crypto-aes-gcm-gmac`).
Therefore, the aforementioned security plugins will use the logging plugin to log their events.
These events can be reporting of expected behavior, as well as security breaches and errors.

The logging plugin implemented in Fast DDS collects all security event data of a |DomainParticipant| and saves
them in a local file.
The log messages generated by the logging plugin include an ID that uniquely identifies the DomainParticipant that
triggered the event, the DDS Domain identifier to which the DomainParticipant belongs, and a time-stamp.

The logging plugin implemented in Fast DDS is referred to as "DDS\:Logging\:DDS_LogTopic", in compliance with the
`DDS Security <https://www.omg.org/spec/DDS-SECURITY/1.1/>`_ specification.
This plugin is explained in detail below.
This plugin can be configured to filter according to up to eight levels of severity of the messages.

The DDS\:Logging\:DDS_LogTopic authentication plugin, can be activated setting the |DomainParticipantQos|
|DomainParticipantQos::properties-api|
``dds.sec.log.plugin`` with the value ``builtin.DDS_LogTopic``.
The following table outlines the properties used for the DDS\:Logging\:DDS_LogTopic plugin configuration.

+------------------------------------------+---------------------------------------------------------------------------+
| Property name                            | Property value                                                            |
|                                          +-------------------------+-------------------------------------------------+
|                                          | Value                   | Definition                                      |
+==========================================+=========================+=================================================+
| logging_level                            | ``EMERGENCY_LEVEL``     | System is unusable. Should not continue use.    |
|                                          +-------------------------+-------------------------------------------------+
|                                          | ``ALERT_LEVEL``         | Should be corrected immediately.                |
|                                          +-------------------------+-------------------------------------------------+
|                                          | ``CRITICAL_LEVEL``      | A failure in primary application.               |
|                                          +-------------------------+-------------------------------------------------+
|                                          | ``ERROR_LEVEL``         | General error conditions. Default value.        |
|                                          +-------------------------+-------------------------------------------------+
|                                          | ``WARNING_LEVEL``       | May indicate future error if action not taken.  |
|                                          +-------------------------+-------------------------------------------------+
|                                          | ``NOTICE_LEVEL``        | Unusual, but nor erroneous event or condition.  |
|                                          +-------------------------+-------------------------------------------------+
|                                          | ``INFORMATIONAL_LEVEL`` | Normal operational. Requires no action.         |
|                                          +-------------------------+-------------------------------------------------+
|                                          | ``DEBUG_LEVEL``         | Normal operational.                             |
+------------------------------------------+-------------------------+-------------------------------------------------+
| log_file                                 | Path of the file in which the log messages are to be saved.               |
+------------------------------------------+---------------------------------------------------------------------------+

.. note::
  All listed properties have "dds.sec.log.builtin.DDS_LogTopic." prefix.
  For example: ``dds.sec.log.builtin.DDS_LogTopic.logging_level``.

The following is an example of how to set the properties of DomainParticipantQoS for the DDS\:Logging\:DDS_LogTopic
plugin configuration.

.. tab-set-code::

    .. literalinclude:: /../code/DDSCodeTester.cpp
        :language: c++
        :start-after: // DDS_SECURITY_LOGGING_PLUGIN
        :end-before: //!--
        :dedent: 8
   
    .. literalinclude:: /../code/XMLTester.xml
        :language: xml
        :start-after: <!-->DDS_SECURITY_LOGGING_PLUGIN<-->
        :end-before: <!--><-->
 

