<?xml version="1.0" encoding="UTF-8" ?>
<dds xmlns="http://www.eprosima.com/XMLSchemas/fastRTPS_Profiles" >
    <profiles>
        <transport_descriptors>
            <transport_descriptor>
                <transport_id>TransportId1</transport_id> <!-- string -->
                <type>UDPv4</type> <!-- string -->
                <sendBufferSize>8192</sendBufferSize> <!-- uint32 -->
                <receiveBufferSize>8192</receiveBufferSize> <!-- uint32 -->
                <TTL>250</TTL> <!-- uint8 -->
                <maxMessageSize>16384</maxMessageSize> <!-- uint32 -->
                <maxInitialPeersRange>100</maxInitialPeersRange> <!-- uint32 -->
                <interfaceWhiteList>
                    <address>192.168.1.41</address> <!-- string -->
                    <address>127.0.0.1</address> <!-- string -->
                </interfaceWhiteList>
                <wan_addr>80.80.55.44</wan_addr> <!-- string -->
                <output_port>5101</output_port> <!-- uint16 -->
                <keep_alive_frequency_ms>5000</keep_alive_frequency_ms> <!-- uint32 -->
                <keep_alive_timeout_ms>25000</keep_alive_timeout_ms> <!-- uint32 -->
                <max_logical_port>9000</max_logical_port> <!-- uint16 -->
                <logical_port_range>100</logical_port_range> <!-- uint16 -->
                <logical_port_increment>2</logical_port_increment> <!-- uint16 -->
                <listening_ports>
                    <port>5100</port> <!-- uint16 -->
                    <port>5200</port> <!-- uint16 -->
                </listening_ports>
            </transport_descriptor>

            <!-- SHM sample transport descriptor -->
            <transport_descriptor>
                <transport_id>SHM_SAMPLE_DESCRIPTOR</transport_id>
                    <type>SHM</type> <!-- REQUIRED -->
                    <maxMessageSize>524288</maxMessageSize> <!-- OPTIONAL uint32 valid of all transports-->
                    <segment_size>1048576</segment_size> <!-- OPTIONAL uint32 SHM only-->
                    <port_queue_capacity>1024</port_queue_capacity> <!-- OPTIONAL uint32 SHM only-->
                    <healthy_check_timeout_ms>250</healthy_check_timeout_ms> <!-- OPTIONAL uint32 SHM only-->
                    <rtps_dump_file>test_file.dump</rtps_dump_file> <!-- OPTIONAL string SHM only-->
            </transport_descriptor>

        </transport_descriptors>


        <participant profile_name="part_profile_name">
            <rtps>
                <name>Participant Name</name> <!-- String -->

                <defaultUnicastLocatorList> <!-- LOCATOR_LIST -->
                    <locator>
                        <udpv4>
                            <port>7400</port>
                            <address>192.168.1.41</address>
                        </udpv4>
                    </locator>
                    <locator>
                        <tcpv4>
                            <port>7400</port> <!-- uint16 -->
                            <physical_port>5100</physical_port> <!-- uint16 -->
                            <unique_lan_id>192.168.1.1.1.1.2.55</unique_lan_id>
                            <wan_address>80.80.99.45</wan_address>
                            <address>192.168.1.55</address>
                        </tcpv4>
                    </locator>
                    <locator>
                        <udpv6>
                            <port>8844</port>
                            <address>::1</address>
                        </udpv6>
                    </locator>
                </defaultUnicastLocatorList>

                <defaultMulticastLocatorList>
                    <locator>
                        <udpv4>
                            <port>7401</port>
                            <address>192.168.1.42</address>
                        </udpv4>
                    </locator>
                    <locator>
                        <tcpv4>
                            <port>7401</port> <!-- uint16 -->
                            <physical_port>5101</physical_port> <!-- uint16 -->
                            <unique_lan_id>192.168.1.1.1.1.2.56</unique_lan_id>
                            <wan_address>80.80.99.46</wan_address>
                            <address>192.168.1.56</address>
                        </tcpv4>
                    </locator>
                    <locator>
                        <udpv6>
                            <port>8845</port>
                            <address>::1</address>
                        </udpv6>
                    </locator>
                </defaultMulticastLocatorList>

                <sendSocketBufferSize>8192</sendSocketBufferSize> <!-- uint32 -->

                <listenSocketBufferSize>8192</listenSocketBufferSize>  <!-- uint32 -->

                <builtin>
                    <discovery_config>
                        <EDP>SIMPLE</EDP> <!-- string SIMPLE | STATIC-->

                        <leaseDuration>
                            <sec>DURATION_INFINITY</sec><!-- string DURATION_INFINITY|DURATION_INFINITE_SEC|([0-9])* -->
                            <nanosec>0</nanosec> <!-- uint32 -->
                        </leaseDuration>

                        <!-- OR -->
                        <!--
                        <leaseDuration>
                            <sec>500</sec> <!- - string DURATION_INFINITY|DURATION_INFINITE_SEC|([0-9])* - ->
                            <nanosec>0</nanosec> <!- - string DURATION_INFINITY|DURATION_INFINITE_NSEC|([0-9])* - ->
                        </leaseDuration>
                        -->
                        <leaseAnnouncement>
                            <sec>1</sec> <!-- int32 -->
                            <nanosec>856000</nanosec> <!-- uint32 -->
                        </leaseAnnouncement>

                        <static_edp_xml_config>filename.xml</static_edp_xml_config> <!-- string -->
                    </discovery_config>

                    <metatrafficUnicastLocatorList>
                        <locator>
                            <udpv4>
                                <port>7400</port>
                                <address>192.168.1.41</address>
                            </udpv4>
                        </locator>
                    </metatrafficUnicastLocatorList>

                    <metatrafficMulticastLocatorList>
                        <locator>
                            <udpv4>
                                <port>7400</port>
                                <address>192.168.1.41</address>
                            </udpv4>
                        </locator>
                    </metatrafficMulticastLocatorList>

                    <initialPeersList>
                        <locator>
                            <udpv4>
                                <port>7400</port>
                                <address>192.168.1.41</address>
                            </udpv4>
                        </locator>
                    </initialPeersList>

                    <readerHistoryMemoryPolicy>PREALLOCATED</readerHistoryMemoryPolicy> <!-- historyMemoryPolicyType PREALLOCATED | PREALLOCATED_WITH_REALLOC | DYNAMIC | DYNAMIC_REUSABLE -->

                    <writerHistoryMemoryPolicy>PREALLOCATED</writerHistoryMemoryPolicy> <!-- historyMemoryPolicyType PREALLOCATED | PREALLOCATED_WITH_REALLOC | DYNAMIC | DYNAMIC_REUSABLE -->
                </builtin>

                <port>
                    <portBase>7400</portBase> <!-- uint16 -->
                    <domainIDGain>200</domainIDGain> <!-- uint16 -->
                    <participantIDGain>10</participantIDGain> <!-- uint16 -->
                    <offsetd0>0</offsetd0> <!-- uint16 -->
                    <offsetd1>1</offsetd1> <!-- uint16 -->
                    <offsetd2>2</offsetd2> <!-- uint16 -->
                    <offsetd3>3</offsetd3> <!-- uint16 -->
                </port>

                <userData>
                    <value>13.40.37.00.CE</value>
                </userData>

                <participantID>99</participantID>   <!-- int32 -->

                <userTransports>
                    <transport_id>TransportId1</transport_id> <!-- string -->
                    <transport_id>TransportId2</transport_id> <!-- string -->
                </userTransports>

                <useBuiltinTransports>false</useBuiltinTransports> <!-- boolean -->

                <propertiesPolicy> <!-- PropertiesPolicy -->
                    <properties>
                        <property>
                            <name>Property1Name</name> <!-- string -->
                            <value>Property1Value</value> <!-- string -->
                            <propagate>false</propagate> <!-- boolean -->
                        </property>
                    </properties>
                </propertiesPolicy>
            </rtps>
        </participant>

        <data_writer profile_name="writer_profile_name">
            <qos> <!-- writerQosPoliciesType -->
                <durability>
                    <kind>VOLATILE</kind> <!-- string VOLATILE | TRANSIENT_LOCAL | TRANSIENT | PERSISTENT-->
                </durability>
                <!--<durabilityService>
                    <service_cleanup_delay>
                        <sec>10</sec>
                        <nanosec>0</nanosec>
                    </service_cleanup_delay>
                    <history_kind>KEEP_LAST</history_kind>
                    <history_depth>1</history_depth>
                    <max_samples>1</max_samples>
                    <max_instances>1</max_instances>
                    <max_samples_per_instance>1</max_samples_per_instance>
                </durabilityService> -->
                <deadline>
                    <period>
                        <sec>DURATION_INFINITY</sec>
                        <nanosec>0</nanosec> <!-- uint32 -->
                    </period>
                </deadline>
                <latencyBudget>
                    <duration>
                        <sec>DURATION_INFINITY</sec>
                        <nanosec>0</nanosec> <!-- uint32 -->
                    </duration>
                </latencyBudget>
                <liveliness>
                    <kind>AUTOMATIC</kind> <!-- string AUTOMATIC | MANUAL_BY_PARTICIPANT | MANUAL_BY_TOPIC -->
                    <lease_duration>
                        <sec>500</sec> <!-- int32 -->
                        <nanosec>0</nanosec> <!-- uint32 -->
                    </lease_duration>
                    <announcement_period>
                        <sec>DURATION_INFINITY</sec>
                        <nanosec>0</nanosec> <!-- uint32 -->
                    </announcement_period>
                </liveliness>
                <reliability>
                    <kind>BEST_EFFORT</kind> <!-- string BEST_EFFORT | RELIABLE -->
                    <max_blocking_time>
                        <sec>DURATION_INFINITY</sec>
                        <nanosec>0</nanosec> <!-- uint32 -->
                    </max_blocking_time>
                </reliability>
                <lifespan>
                    <duration>
                        <sec>DURATION_INFINITY</sec>
                        <nanosec>0</nanosec> <!-- uint32 -->
                    </duration>
                </lifespan>
                <!--<timeBasedFilter>
                    <minimum_separation>
                        <sec>DURATION_INFINITY</sec>
                        <nanosec>0</nanosec>
                    </minimum_separation>
                </timeBasedFilter>-->
                <ownership>
                    <kind>SHARED</kind> <!-- string SHARED | EXCLUSIVE-->
                </ownership>
                <ownershipStrength>
                    <value>5</value> <!-- uint32 -->
                </ownershipStrength>
                <!--<destinationOrder>
                    <kind>BY_RECEPTION_TIMESTAMP</kind>
                </destinationOrder>
                <presentation>
                    <access_scope>INSTANCE</access_scope>
                    <coherent_access>true</coherent_access>
                    <ordered_access>true</ordered_access>
                </presentation> -->
                <partition>
                    <names>
                        <name>part1</name> <!-- string -->
                        <name>part2</name> <!-- string -->
                    </names>
                </partition>
                <topicData>
                    <value>1.4.7.0.C</value>
                </topicData>
                <groupData>
                    <value>2.0.3.0.E</value>
                </groupData>
                <userData>
                    <value>1.0.7.0.E</value>
                </userData>
                <publishMode>
                    <kind>SYNCHRONOUS</kind> <!-- string SYNCHRONOUS | ASYNCHRONOUS-->
                </publishMode>
            </qos>

            <times> <!-- writerTimesType -->
                <initialHeartbeatDelay>
                    <sec>DURATION_INFINITY</sec>
                        <nanosec>0</nanosec> <!-- uint32 -->
                </initialHeartbeatDelay>
                <heartbeatPeriod>
                    <sec>DURATION_INFINITY</sec>
                        <nanosec>0</nanosec> <!-- uint32 -->
                </heartbeatPeriod>
                <nackResponseDelay>
                    <sec>DURATION_INFINITY</sec>
                        <nanosec>0</nanosec> <!-- uint32 -->
                </nackResponseDelay>
                <nackSupressionDuration>
                    <sec>DURATION_INFINITY</sec>
                        <nanosec>0</nanosec> <!-- uint32 -->
                </nackSupressionDuration>
            </times>

            <unicastLocatorList>
                <locator>
                    <udpv4>
                        <port>1212</port>
                    </udpv4>
                </locator>
            </unicastLocatorList>

            <multicastLocatorList>
                <locator>
                    <udpv4>
                        <port>1212</port>
                    </udpv4>
                </locator>
            </multicastLocatorList>

            <!--<outLocatorList>
            </outLocatorList> -->

            <historyMemoryPolicy>PREALLOCATED</historyMemoryPolicy> <!-- historyMemoryPolicyType PREALLOCATED | PREALLOCATED_WITH_REALLOC | DYNAMIC | DYNAMIC_REUSABLE -->

            <propertiesPolicy>
                <properties>
                    <property>
                        <name>PropertyName</name>
                        <value>PropertyValue</value>
                    </property>
                </properties>
            </propertiesPolicy>

            <userDefinedID>45</userDefinedID> <!-- Int16 -->

            <entityID>76</entityID> <!-- Int16 -->
        </data_writer>

        <data_reader profile_name="reader_profile_name">
            <qos> <!-- readerQosPoliciesType -->
                <durability>
                    <kind>VOLATILE</kind> <!-- string VOLATILE | TRANSIENT_LOCAL | TRANSIENT | PERSISTENT-->
                </durability>
                <!--<durabilityService>
                    <service_cleanup_delay>
                        <sec>DURATION_INFINITY</sec>
                    </service_cleanup_delay>
                    <history_kind>KEEP_LAST</history_kind>
                    <history_depth>0</history_depth>
                    <max_samples>0</max_samples>
                    <max_instances>0</max_instances>
                    <max_samples_per_instance>0</max_samples_per_instance>
                </durabilityService> -->
                <deadline>
                    <period>
                        <sec>DURATION_INFINITY</sec>
                        <nanosec>0</nanosec> <!-- uint32 -->
                    </period>
                </deadline>
                <latencyBudget>
                    <duration>
                        <sec>DURATION_INFINITY</sec>
                        <nanosec>0</nanosec> <!-- uint32 -->
                    </duration>
                </latencyBudget>
                <liveliness>
                    <kind>AUTOMATIC</kind> <!-- string AUTOMATIC | MANUAL_BY_PARTICIPANT | MANUAL_BY_TOPIC-->
                    <lease_duration>
                        <sec>500</sec> <!-- string DURATION_INFINITY|DURATION_INFINITE_SEC|([0-9])* -->
                        <nanosec>0</nanosec> <!-- string DURATION_INFINITY|DURATION_INFINITE_SEC|([0-9])* -->
                    </lease_duration>
                    <announcement_period>
                        <sec>DURATION_INFINITY</sec>
                        <nanosec>0</nanosec> <!-- uint32 -->
                    </announcement_period>
                </liveliness>
                <reliability>
                    <kind>BEST_EFFORT</kind> <!-- string BEST_EFFORT | RELIABLE -->
                    <max_blocking_time>
                        <sec>DURATION_INFINITY</sec>
                        <nanosec>0</nanosec> <!-- uint32 -->
                    </max_blocking_time>
                </reliability>
                <lifespan>
                    <duration>
                        <sec>DURATION_INFINITY</sec>
                        <nanosec>0</nanosec> <!-- uint32 -->
                    </duration>
                </lifespan>
                <!--<timeBasedFilter>
                    <minimum_separation>
                        <sec>DURATION_INFINITY</sec>
                        <nanosec>0</nanosec>
                    </minimum_separation>
                </timeBasedFilter>-->
                <ownership>
                    <kind>SHARED</kind> <!-- string SHARED | EXCLUSIVE-->
                </ownership>
                <!--<destinationOrder>
                    <kind>BY_RECEPTION_TIMESTAMP</kind>
                </destinationOrder>
                <presentation>
                    <access_scope>INSTANCE</access_scope>
                    <coherent_access>true</coherent_access>
                    <ordered_access>true</ordered_access>
                </presentation>-->
                <partition>
                    <names>
                        <name>part1</name> <!-- string -->
                        <name>part2</name> <!-- string -->
                    </names>
                </partition>
                <topicData>
                    <value>1.0.3.0.E</value>
                </topicData>
                <groupData>
                    <value>2.4.7.0.E</value>
                </groupData>
                <userData>
                    <value>3.0.7.0.C</value>
                </userData>
            </qos>

            <times> <!-- readerTimesType -->
                <initialAcknackDelay>
                    <sec>DURATION_INFINITY</sec>
                        <nanosec>0</nanosec> <!-- uint32 -->
                </initialAcknackDelay>
                <heartbeatResponseDelay>
                    <sec>DURATION_INFINITY</sec>
                        <nanosec>0</nanosec> <!-- uint32 -->
                </heartbeatResponseDelay>
            </times>

            <unicastLocatorList>
                <locator>
                    <udpv4>
                        <port>7400</port>
                        <address>192.168.1.41</address>
                    </udpv4>
                </locator>
            </unicastLocatorList>

            <multicastLocatorList>
                <locator>
                    <udpv4>
                        <port>7400</port>
                        <address>192.168.1.41</address>
                    </udpv4>
                </locator>
            </multicastLocatorList>

            <!--<outLocatorList>

            </outLocatorList>-->

            <expectsInlineQos>true</expectsInlineQos> <!-- boolean -->

            <historyMemoryPolicy>PREALLOCATED</historyMemoryPolicy> <!-- historyMemoryPolicyType PREALLOCATED | PREALLOCATED_WITH_REALLOC | DYNAMIC | DYNAMIC_REUSABLE -->

            <propertiesPolicy> <!-- PropertiesPolicy -->
                <properties>
                    <property>
                        <name>Property1Name</name> <!-- string -->
                        <value>Property1Value</value> <!-- string -->
                        <propagate>false</propagate> <!-- boolean -->
                    </property>
                </properties>
            </propertiesPolicy>

            <userDefinedID>55</userDefinedID> <!-- Int16 -->

            <entityID>66</entityID> <!-- Int16 -->
        </data_reader>

        <topic profile_name="topic_profile_name">
            <historyQos>
                <kind>KEEP_LAST</kind>
                <depth>20</depth>
            </historyQos>
            <resourceLimitsQos>
                <max_samples>5</max_samples>
                <max_instances>2</max_instances>
                <max_samples_per_instance>1</max_samples_per_instance>
                <allocated_samples>20</allocated_samples>
                <extra_samples>10</extra_samples>
            </resourceLimitsQos>
        </topic>
    </profiles>

    <types>
        <type> <!-- Types can be defined in its own type tag or sharing the same tag -->
            <enum name="MyAloneEnumType">
                <enumerator name="A" value="0"/>
                <enumerator name="B" value="1"/>
                <enumerator name="C" value="2"/>
            </enum>
        </type>
        <type>
            <typedef name="my_sequence_inner" type="int32" sequenceMaxLength="2"/>
            <struct name="SeqSeqStruct">
                <member name="my_sequence_sequence" type="nonBasic" nonBasicTypeName="my_sequence_inner" sequenceMaxLength="3"/>
            </struct>

            <typedef name="my_map_inner" type="int32" key_type="int32" mapMaxLength="2"/>
            <struct name="MapMapStruct">
                <member name="my_map_map" type="nonBasic" nonBasicTypeName="my_map_inner" key_type="int32" mapMaxLength="2"/>
            </struct>

            <typedef name="my_array_inner" type="int32" arrayDimensions="2,2"/>
            <struct name="my_array">
                <member name="long_array" type="int32" arrayDimensions="2,3,4"/>
            </struct>

            <struct name="my_struct">
                <member name="first" type="int32"/>
                <member name="second" type="int64"/>
            </struct>

            <struct name="other_struct">
                <member name="my_enum" type="nonBasic" nonBasicTypeName="my_alone_enum"/>
                <member name="my_struct" type="nonBasic" nonBasicTypeName="my_struct" arrayDimensions="5"/>
            </struct>

            <!-- All possible members struct type -->
            <struct name="my_full_struct">
                <!-- Primitives & basic -->
                <member name="my_bool" type="bool"/>
                <member name="my_boolean" type="boolean"/>
                <member name="my_char" type="char"/>
                <member name="my_char8" type="char8"/>
                <member name="my_wchar" type="wchar"/>
                <member name="my_char16" type="char16"/>
                <member name="my_byte" type="byte"/>
                <member name="my_octet" type="octet"/>
                <member name="my_int8" type="int8"/>
                <member name="my_uint8" type="uint8"/>
                <member name="my_short" type="short"/>
                <member name="my_uShort" type="uShort"/>
                <member name="my_int16" type="int16"/>
                <member name="my_uint16" type="uint16"/>
                <member name="my_long" type="long"/>
                <member name="my_uLong" type="uLong"/>
                <member name="my_int32" type="int32"/>
                <member name="my_uint32" type="uint32"/>
                <member name="my_longLong" type="longLong"/>
                <member name="my_uLongLong" type="uLongLong"/>
                <member name="my_int64" type="int64"/>
                <member name="my_uint64" type="uint64"/>
                <member name="my_float32" type="float32"/>
                <member name="my_float64" type="float64"/>
                <member name="my_float128" type="float128"/>
                <member name="my_string" type="string"/>
                <member name="my_wstring" type="wstring"/>
                <member name="nonBasic Type" type="nonBasic"/>

                <!-- long long_array[2][3][4]; -->
                <member name="long_array" arrayDimensions="2,3,4" type="int32"/>

                <!-- map<long,map<long,long,2>,2> my_map_map; -->
                <member name="my_map_map" type="nonBasic" nonBasicTypeName="my_map_inner" key_type="int32" mapMaxLength="2"/>

                <!-- Complex types -->
                <member name="my_other_struct" type="nonBasic" nonBasicTypeName="other_struct"/>
            </struct>
        </type>

        <type>
            <bitset name="my_bitset_inner">
                <bitfield bit_bound="10" name="a" type="int16"/>
                <bitfield bit_bound="11" name="b"/>
                <bitfield bit_bound="12"/>
            </bitset>

            <bitset name="my_bitset" baseType="my_bitset_inner">
                <bitfield bit_bound="13" name="d" type="int32"/>
                <bitfield bit_bound="14" name="e"/>
                <bitfield bit_bound="15"/>
            </bitset>

            <bitmask name="my_bitmask" bit_bound="8">
                <bit_value name="flag0" position="0"/>
                <bit_value name="flag1"/>
            </bitmask>

            <union name="my_union">
                <discriminator type="byte"/>
                <case>
                    <caseDiscriminator value="0"/>
                    <caseDiscriminator value="1"/>
                    <member name="first" type="int32"/>
                </case>
                <case>
                    <caseDiscriminator value="2"/>
                    <member name="second" type="nonBasic" nonBasicTypeName="my_struct"/>
                </case>
                <case>
                    <caseDiscriminator value="default"/>
                    <member name="third" type="uint16"/>
                </case>
            </union>
        </type>
    </types>
</dds>